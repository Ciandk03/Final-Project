<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/nav_graph"
    app:startDestination="@id/categoryFragment">

    <!-- Category list (separate screen for adding categories) -->
    <fragment android:id="@+id/categoryFragment" android:name="edu.uga.cs.finalproject.ui.CategoryListFragment" android:label="Categories">
        <action android:id="@+id/action_category_to_addCategory" app:destination="@id/addCategoryFragment" />
        <action android:id="@+id/action_category_to_itemList" app:destination="@id/itemListFragment" />
    </fragment>

    <fragment android:id="@+id/addCategoryFragment" android:name="edu.uga.cs.finalproject.ui.AddCategoryFragment" android:label="Add Category" />

    <!-- Items in a category -->
    <fragment android:id="@+id/itemListFragment" android:name="edu.uga.cs.finalproject.ui.ItemListFragment" android:label="Items">
        <argument android:name="categoryId" app:argType="string" />
        <argument android:name="categoryName" app:argType="string" />
        <action android:id="@+id/action_itemList_to_itemDetail" app:destination="@id/itemDetailFragment" />
        <action android:id="@+id/action_itemList_to_addItem" app:destination="@id/addItemFragment" />
    </fragment>

    <fragment android:id="@+id/itemDetailFragment" android:name="edu.uga.cs.finalproject.ui.ItemDetailFragment" android:label="Item Detail">
        <argument android:name="itemId" app:argType="string" />
    </fragment>

    <fragment android:id="@+id/addItemFragment" android:name="edu.uga.cs.finalproject.ui.AddItemFragment" android:label="Add Item">
        <argument android:name="categoryId" app:argType="string" />
        <argument android:name="categoryName" app:argType="string" />
    </fragment>

    <!-- Transactions -->
    <fragment android:id="@+id/transactionsFragment" android:name="edu.uga.cs.finalproject.ui.TransactionsFragment" android:label="Transactions" />

    <!-- My items -->
    <fragment android:id="@+id/myItemsFragment" android:name="edu.uga.cs.finalproject.ui.MyItemsFragment" android:label="My Items" />

    <!-- Profile -->
    <fragment android:id="@+id/profileFragment" android:name="edu.uga.cs.finalproject.ui.ProfileFragment" android:label="Profile" />

    <fragment android:id="@+id/loginFragment" android:name="edu.uga.cs.finalproject.ui.auth.LoginFragment" android:label="Login">
        <action android:id="@+id/action_loginFragment_to_registerFragment" app:destination="@id/registerFragment" />
        <action android:id="@+id/action_loginFragment_to_categoryListFragment" app:destination="@id/categoryFragment" app:popUpTo="@id/nav_graph" app:popUpToInclusive="true"/>
    </fragment>

    <fragment android:id="@+id/registerFragment" android:name="edu.uga.cs.finalproject.ui.auth.RegisterFragment" android:label="Register">
        <action android:id="@+id/action_registerFragment_to_categoryListFragment" app:destination="@id/categoryFragment" app:popUpTo="@id/nav_graph" app:popUpToInclusive="true"/>
    </fragment>
    <action android:id="@+id/action_global_itemDetailFragment" app:destination="@id/itemDetailFragment" />
</navigation>
